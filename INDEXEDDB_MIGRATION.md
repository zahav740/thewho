# üöÄ –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ IndexedDB –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è –æ–±—ä–µ–º–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

–í–º–µ—Å—Ç–æ localStorage (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ ~5-10MB) —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **IndexedDB**, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å **–≥–∏–≥–∞–±–∞–π—Ç—ã –¥–∞–Ω–Ω—ã—Ö**.

## –ö–∞–∫ –≤–Ω–µ–¥—Ä–∏—Ç—å

### 1. –ó–∞–º–µ–Ω–∏—Ç–µ AppContext

–ó–∞–º–µ–Ω–∏—Ç–µ –∏–º–ø–æ—Ä—Ç –≤ –≤–∞—à–µ–º `src/App.tsx` –∏–ª–∏ –≥–ª–∞–≤–Ω–æ–º —Ñ–∞–π–ª–µ:

```tsx
// –ë—ã–ª–æ:
import { AppProvider } from './context/AppContext';

// –°—Ç–∞–ª–æ:
import { AppProvider } from './context/AppContextIndexedDB';
```

### 2. –î–æ–±–∞–≤—å—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–í –ª—é–±–æ–µ –º–µ—Å—Ç–æ –≥–¥–µ —Ö–æ—Ç–∏—Ç–µ –ø–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É:

```tsx
import StorageInfo from './components/StorageInfo';

// –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ:
<StorageInfo />
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ IndexedDB

| Characteristic | localStorage | IndexedDB |
|---------------|--------------|-----------|
| **–†–∞–∑–º–µ—Ä** | ~5-10MB | –ù–µ—Å–∫–æ–ª—å–∫–æ GB |
| **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è |
| **–¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö** | –¢–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫–∏ | –õ—é–±—ã–µ —Ç–∏–ø—ã |
| **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** | –ù–µ—Ç | –ï—Å—Ç—å |
| **–ò–Ω–¥–µ–∫—Å—ã** | –ù–µ—Ç | –ï—Å—Ç—å |

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ:
1. ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è IndexedDB
2. ‚úÖ –î–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–∏–≥—Ä–∏—Ä—É—é—Ç –∏–∑ localStorage  
3. ‚úÖ localStorage –æ—á–∏—â–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏
4. ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å –º–∏–≥—Ä–∞—Ü–∏–∏

## Fallback –Ω–∞ localStorage

–ï—Å–ª–∏ IndexedDB –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–∞ localStorage
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è—Ö

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
navigator.storage.estimate().then(estimate => {
  console.log('–ö–≤–æ—Ç–∞:', (estimate.quota / 1024 / 1024).toFixed(2), 'MB');
  console.log('–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ:', (estimate.usage / 1024 / 1024).toFixed(2), 'MB');
  console.log('–î–æ—Å—Ç—É–ø–Ω–æ:', ((estimate.quota - estimate.usage) / 1024 / 1024).toFixed(2), 'MB');
});
```

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### 1. Web Storage API (–±—É–¥—É—â–µ–µ)
```javascript
// –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π API –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è –∫–≤–æ—Ç—ã
navigator.storage.persist().then(granted => {
  if (granted) {
    console.log('–ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –ø–æ–ª—É—á–µ–Ω–æ');
  }
});
```

### 2. File System Access API
```javascript
// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É (—Ç–æ–ª—å–∫–æ Chrome)
const fileHandle = await window.showSaveFilePicker({
  suggestedName: 'backup.json',
  types: [{
    description: 'JSON files',
    accept: { 'application/json': ['.json'] }
  }]
});
```

### 3. –°–∂–∞—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö
```bash
npm install lz-string
```

```javascript
import LZString from 'lz-string';

// –°–∂–∏–º–∞—Ç—å –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º
const compressed = LZString.compress(JSON.stringify(data));
localStorage.setItem('key', compressed);

// –†–∞–∑–∂–∏–º–∞—Ç—å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ  
const data = JSON.parse(LZString.decompress(localStorage.getItem('key')));
```

## –ò—Ç–æ–≥–æ–≤—ã–π –æ–±—ä–µ–º —Ö—Ä–∞–Ω–µ–Ω–∏—è

–ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è IndexedDB:
- **–î–æ**: ~5-10 MB (localStorage)
- **–ü–æ—Å–ª–µ**: ~2-10 GB (IndexedDB)
- **–£–≤–µ–ª–∏—á–µ–Ω–∏–µ**: –≤ **200-1000 —Ä–∞–∑** –±–æ–ª—å—à–µ! üéâ

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `StorageInfo` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- üìä –¢–µ–∫—É—â–∏–π —Ä–∞–∑–º–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- üíæ –î–æ—Å—Ç—É–ø–Ω–æ–µ –º–µ—Å—Ç–æ
- üìà –ü—Ä–æ—Ü–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–≤–æ—Ç—ã
- ‚úÖ –°—Ç–∞—Ç—É—Å –º–∏–≥—Ä–∞—Ü–∏–∏