# üîß –ü–û–õ–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï PDF –ü–†–ï–í–¨–Æ - –ü–û–®–ê–ì–û–í–û–ï –†–£–ö–û–í–û–î–°–¢–í–û

## üéØ –ü—Ä–æ–±–ª–µ–º–∞
- –í –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ "Edit Order" –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è "Click to preview" –≤–º–µ—Å—Ç–æ –ø—Ä–µ–≤—å—é PDF
- –í –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ "PDF Document Preview" –æ—à–∏–±–∫–∞ "localhost –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ"

## ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ü–†–ò–ú–ï–ù–ï–ù–´

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω PdfUploader.tsx
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è URL –¥–ª—è PDF —Ñ–∞–π–ª–æ–≤
**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `pdfApi.getPdfUrlByPath()`

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω OrderForm.SIMPLE.tsx  
**–ü—Ä–æ–±–ª–µ–º–∞**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è —Å—Ç–∞—Ä—ã–π PdfUploader –≤–º–µ—Å—Ç–æ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ PdfUpload
**–†–µ—à–µ–Ω–∏–µ**: –ó–∞–º–µ–Ω–µ–Ω –Ω–∞ PdfUpload —Å PdfDebugViewer –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### 3. –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
**–§–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã**:
- `test-pdf-backend-detailed.js` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ backend
- `DIAGNOSE-PDF-ISSUES.bat` - –±—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
- `START-BACKEND-FOR-PDF-TEST.bat` - –∑–∞–ø—É—Å–∫ backend

## üöÄ –ü–û–®–ê–ì–û–í–û–ï –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç–µ Backend
```bash
# –í –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞
START-BACKEND-FOR-PDF-TEST.bat
```
–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
```bash
cd backend
npm run start:dev
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: Backend –∑–∞–ø—É—â–µ–Ω –Ω–∞ http://localhost:5100

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å PDF —Ñ–∞–π–ª–æ–≤
–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
- http://localhost:5100/api/health (–¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å OK)
- http://localhost:5100/api/orders/pdf/1750498636129-413393729.pdf (–¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å PDF)

### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç–µ Frontend
```bash
cd frontend
npm start
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: Frontend –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:3000

### –®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000
2. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å –≤ —Å–∏—Å—Ç–µ–º–µ
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** ‚Üí **–ó–∞–∫–∞–∑—ã**
4. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å** –Ω–∞ –ª—é–±–æ–º –∑–∞–∫–∞–∑–µ
5. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"PDF –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è"**

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- ‚úÖ –í–∏–¥–Ω–æ –ø—Ä–µ–≤—å—é PDF (–µ—Å–ª–∏ —Ñ–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω)
- ‚úÖ –ö–Ω–æ–ø–∫–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç

## üîç –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ü–†–û–ë–õ–ï–ú

### –ï—Å–ª–∏ –ø—Ä–µ–≤—å—é –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞** (F12 ‚Üí Console):
   - –û—à–∏–±–∫–∏ CORS
   - –û—à–∏–±–∫–∏ —Å–µ—Ç–∏ (Failed to fetch)
   - –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ URL

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL –≥–µ–Ω–µ—Ä–∞—Ü–∏—é**:
   - –î–æ–ª–∂–µ–Ω –±—ã—Ç—å: `http://localhost:5100/api/orders/pdf/filename.pdf`
   - –ù–ï –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å: `http://localhost:3000/api/orders/pdf/full/path/filename.pdf`

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ backend –ª–æ–≥–∏**:
   ```
   üìÑ StaticFiles: –ó–∞–ø—Ä–æ—Å –Ω–∞ PDF —Ñ–∞–π–ª: filename.pdf
   ‚úÖ PDF —Ñ–∞–π–ª –Ω–∞–π–¥–µ–Ω: /path/to/file
   ```

### –ï—Å–ª–∏ backend –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç**: Backend –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞ –ø–æ—Ä—Ç—É 5100
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å—ã**: 
   ```bash
   netstat -an | findstr :5100
   ```
3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend**:
   ```bash
   cd backend
   npm run start:dev
   ```

## üéõÔ∏è –£–ü–†–ê–í–õ–ï–ù–ò–ï –ß–ï–†–ï–ó –î–ò–ê–ì–ù–û–°–¢–ò–ß–ï–°–ö–ò–ô –ò–ù–¢–ï–†–§–ï–ô–°

–í –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ "PDF –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è" –¥–æ—Å—Ç—É–ø–Ω—ã:

### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å:
- üîç Current PDF path: –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É
- üìÅ PDF file selected: –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ñ–∞–π–ª
- üÜî Order ID: ID –∑–∞–∫–∞–∑–∞
- üìÑ URL: —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π URL

### –ö–Ω–æ–ø–∫–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:
- **–ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø** - –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç PDF –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ
- **–ü–æ–≤—Ç–æ—Ä–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É** - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ñ–∞–π–ª–∞
- **–°–∫–∞—á–∞—Ç—å** - —Å–∫–∞—á–∏–≤–∞–µ—Ç PDF —Ñ–∞–π–ª

## üõ†Ô∏è –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ò–ù–°–¢–†–£–ú–ï–ù–¢–´

### –ë—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:
```bash
DIAGNOSE-PDF-ISSUES.bat
```

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ backend:
```bash
node test-pdf-backend-detailed.js
```

### –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ PDF:
```bash
node create-test-pdf.js
```

## üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –í –ö–û–î–ï

### PdfUploader.tsx - –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
```typescript
// ‚ùå –ë–´–õ–û (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
const getPdfUrl = (pdfPath: string) => {
  return `${apiUrl}/orders/pdf/${pdfPath}`;
};

// ‚úÖ –°–¢–ê–õ–û (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
const getPdfUrl = (pdfPath: string) => {
  console.log('üîç Generating PDF URL for path:', pdfPath);
  const url = pdfApi.getPdfUrlByPath(pdfPath);
  console.log('üìÑ Generated PDF URL:', url);
  return url;
};
```

### OrderForm.SIMPLE.tsx - –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
```typescript
// ‚ùå –ë–´–õ–û: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è —Å—Ç–∞—Ä—ã–π PdfUploader
import { PdfUploader } from '../../../components/common/PdfUploader';

// ‚úÖ –°–¢–ê–õ–û: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π PdfUpload
import { PdfUpload } from '../../../components/common/PdfUpload';
```

## üìä –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

### ‚úÖ –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å:
1. **–í –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ "Edit Order"**:
   - –í–∫–ª–∞–¥–∫–∞ "PDF –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è" –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É
   - –ö–Ω–æ–ø–∫–∞ "Click to preview" —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–π –ø—Ä–µ–≤—å—é PDF

2. **–í –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ "PDF Document Preview"**:
   - PDF –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
   - –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∞—è –ø–∞–Ω–µ–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å HTTP 200
   - –ö–Ω–æ–ø–∫–∏ "–ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø" –∏ "–°–∫–∞—á–∞—Ç—å" —Ä–∞–±–æ—Ç–∞—é—Ç

3. **–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞**:
   - –ù–µ—Ç –æ—à–∏–±–æ–∫ CORS
   - URL –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
   - –§–∞–π–ª—ã –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ –ø—Ä—è–º—ã–º —Å—Å—ã–ª–∫–∞–º

## üÜò –£–°–¢–†–ê–ù–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú

### –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞–ª–∏—Å—å:

1. **–û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞** (Ctrl+F5)
2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±–∞ —Å–µ—Ä–≤–µ—Ä–∞** (backend –∏ frontend)
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª .env** –≤ –ø–∞–ø–∫–µ frontend:
   ```
   REACT_APP_API_URL=http://localhost:5100/api
   ```
4. **–£–±–µ–¥–∏—Ç–µ—Å—å –≤ –Ω–∞–ª–∏—á–∏–∏ PDF —Ñ–∞–π–ª–∞**:
   ```
   backend/uploads/pdf/1750498636129-413393729.pdf
   ```

### –õ–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:
- **Backend –ª–æ–≥–∏**: –≤ –∫–æ–Ω—Å–æ–ª–∏ backend
- **Frontend –ª–æ–≥–∏**: F12 ‚Üí Console –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- **Network –∑–∞–ø—Ä–æ—Å—ã**: F12 ‚Üí Network –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ PDF

## üìû –§–ò–ù–ê–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

1. ‚úÖ Backend –∑–∞–ø—É—â–µ–Ω –∏ –æ—Ç–≤–µ—á–∞–µ—Ç
2. ‚úÖ PDF —Ñ–∞–π–ª—ã –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ –ø—Ä—è–º—ã–º —Å—Å—ã–ª–∫–∞–º
3. ‚úÖ Frontend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
4. ‚úÖ –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø—Ä–µ–≤—å—é PDF
5. ‚úÖ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã

---

## üéØ –ö–†–ê–¢–ö–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø –î–õ–Ø –ë–´–°–¢–†–û–ì–û –ó–ê–ü–£–°–ö–ê:

1. `START-BACKEND-FOR-PDF-TEST.bat` - –∑–∞–ø—É—Å–∫ backend
2. `cd frontend && npm start` - –∑–∞–ø—É—Å–∫ frontend  
3. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000
4. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö ‚Üí –ó–∞–∫–∞–∑—ã ‚Üí –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å ‚Üí PDF –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–µ–≤—å—é –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É

**–í—Å–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å! üéâ**
