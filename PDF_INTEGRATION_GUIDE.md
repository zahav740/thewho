# PDF Integration Guide - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ PDF

## üìë –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ Production CRM —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É, –ø—Ä–æ—Å–º–æ—Ç—Ä –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ PDF –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ –¥–ª—è –∑–∞–∫–∞–∑–æ–≤. –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–∏–∫—Ä–µ–ø–ª—è—Ç—å —á–µ—Ä—Ç–µ–∂–∏, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏ –¥—Ä—É–≥–∏–µ PDF —Ñ–∞–π–ª—ã –∫ –∑–∞–∫–∞–∑–∞–º.

## üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- üìÅ **–ó–∞–≥—Ä—É–∑–∫–∞ PDF —Ñ–∞–π–ª–æ–≤** –¥–æ 100MB –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–∫–∞–∑–∞
- üëÅÔ∏è **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä PDF** –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
- üì± **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω** –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- üîÑ **–ó–∞–º–µ–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤**
- üóëÔ∏è **–£–¥–∞–ª–µ–Ω–∏–µ PDF –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤**
- ‚¨áÔ∏è **–°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤**
- üåê **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç–∏** (—Ä—É—Å—Å–∫–∏–π/–∞–Ω–≥–ª–∏–π—Å–∫–∏–π)

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
```
src/
‚îú‚îÄ‚îÄ components/common/PdfUploader/
‚îÇ   ‚îú‚îÄ‚îÄ PdfUploader.tsx          # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞–≥—Ä—É–∑–∫–∏ PDF
‚îÇ   ‚îî‚îÄ‚îÄ index.ts                 # –≠–∫—Å–ø–æ—Ä—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îî‚îÄ‚îÄ pdfApi.ts               # API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PDF
‚îú‚îÄ‚îÄ pages/Database/components/
‚îÇ   ‚îú‚îÄ‚îÄ OrderForm.SIMPLE.tsx    # –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞ –∑–∞–∫–∞–∑–∞ —Å PDF
‚îÇ   ‚îî‚îÄ‚îÄ OrderForm.PDF.tsx       # –û—Ç–¥–µ–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π PDF
‚îî‚îÄ‚îÄ i18n/
    ‚îî‚îÄ‚îÄ translations.ts         # –ü–µ—Ä–µ–≤–æ–¥—ã –¥–ª—è PDF —Ñ—É–Ω–∫—Ü–∏–π
```

### Backend endpoints:
```
POST   /orders/:id/upload-pdf   # –ó–∞–≥—Ä—É–∑–∫–∞ PDF —Ñ–∞–π–ª–∞
GET    /orders/:id/pdf          # –ü—Ä–æ—Å–º–æ—Ç—Ä PDF —Ñ–∞–π–ª–∞
DELETE /orders/:id/pdf          # –£–¥–∞–ª–µ–Ω–∏–µ PDF —Ñ–∞–π–ª–∞
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ —Å PDF

```typescript
// 1. –°–æ–∑–¥–∞–π—Ç–µ –∑–∞–∫–∞–∑
const order = await ordersApi.create(orderData);

// 2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ PDF —Ñ–∞–π–ª
const result = await pdfApi.uploadPdf(order.id, pdfFile);

if (result.success) {
  console.log('PDF –∑–∞–≥—Ä—É–∂–µ–Ω:', result.pdfPath);
}
```

### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ PdfUploader

```tsx
import { PdfUploader } from 'components/common/PdfUploader';

function OrderForm() {
  const [pdfPath, setPdfPath] = useState<string>();

  const handlePdfUpload = async (file: File) => {
    const result = await pdfApi.uploadPdf(orderId, file);
    if (result.success) {
      setPdfPath(result.pdfPath);
    }
  };

  const handlePdfRemove = async () => {
    await pdfApi.deletePdf(orderId);
    setPdfPath(undefined);
  };

  return (
    <PdfUploader
      pdfPath={pdfPath}
      onUpload={handlePdfUpload}
      onRemove={handlePdfRemove}
      showPreview={true}
    />
  );
}
```

### 3. –ü—Ä–æ—Å–º–æ—Ç—Ä PDF

PDF —Ñ–∞–π–ª—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ —Å –ø–æ–º–æ—â—å—é –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ `iframe`. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è:
- –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º
- –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º
- –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞

## üìã API Reference

### PdfUploader Props

| Prop | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `pdfPath` | `string?` | –ü—É—Ç—å –∫ —Ç–µ–∫—É—â–µ–º—É PDF —Ñ–∞–π–ª—É |
| `onUpload` | `(file: File) => Promise<void>` | –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ |
| `onRemove` | `() => Promise<void>` | –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —É–¥–∞–ª–µ–Ω–∏—è —Ñ–∞–π–ª–∞ |
| `loading` | `boolean` | –°–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ |
| `disabled` | `boolean` | –û—Ç–∫–ª—é—á–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç |
| `showPreview` | `boolean` | –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–≤—å—é |
| `size` | `'small' \| 'default' \| 'large'` | –†–∞–∑–º–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ |

### PDF API Methods

```typescript
// –ó–∞–≥—Ä—É–∑–∫–∞ PDF —Ñ–∞–π–ª–∞
pdfApi.uploadPdf(orderId: number, file: File): Promise<PdfUploadResponse>

// –ü–æ–ª—É—á–µ–Ω–∏–µ URL –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
pdfApi.getPdfUrl(orderId: number): string

// –ü–æ–ª—É—á–µ–Ω–∏–µ URL –ø–æ –ø—É—Ç–∏ —Ñ–∞–π–ª–∞
pdfApi.getPdfUrlByPath(pdfPath: string): string

// –£–¥–∞–ª–µ–Ω–∏–µ PDF —Ñ–∞–π–ª–∞
pdfApi.deletePdf(orderId: number): Promise<PdfUploadResponse>

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ PDF
pdfApi.checkPdfAvailability(orderId: number): Promise<boolean>

// –°–∫–∞—á–∏–≤–∞–Ω–∏–µ PDF —Ñ–∞–π–ª–∞
pdfApi.downloadPdf(orderId: number, fileName?: string): Promise<void>
```

## üé® UI/UX –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –í–Ω–µ—à–Ω–∏–π –≤–∏–¥:
- **–ö–∞—Ä—Ç–æ—á–Ω—ã–π –¥–∏–∑–∞–π–Ω** —Å –∑–∞–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–º–∏ —É–≥–ª–∞–º–∏
- **–¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è** —Å—Ç–∞—Ç—É—Å–∞ (–∑–µ–ª–µ–Ω—ã–π –¥–ª—è –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤)
- **–ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä** –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- **–ê–Ω–∏–º–∞—Ü–∏–∏** –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏

### –í–∫–ª–∞–¥–∫–∏ –≤ —Ñ–æ—Ä–º–µ –∑–∞–∫–∞–∑–∞:
1. **üìã –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** - –¥–∞–Ω–Ω—ã–µ –∑–∞–∫–∞–∑–∞ –∏ –æ–ø–µ—Ä–∞—Ü–∏–π
2. **üìÑ PDF –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ PDF —Ñ–∞–π–ª–∞–º–∏

### –°–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:
- **–ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ** - –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª
- **–ó–∞–≥—Ä—É–∑–∫–∞** - –ø—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä –∏ —Å–ø–∏–Ω–Ω–µ—Ä
- **–ó–∞–≥—Ä—É–∂–µ–Ω** - –ø—Ä–µ–≤—å—é —Å –∫–Ω–æ–ø–∫–∞–º–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- **–û—à–∏–±–∫–∞** - —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∞–π–ª–æ–≤:
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä**: 100MB
- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã**: PDF
- **–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Ö—Ä–∞–Ω–µ–Ω–∏—è**: `/backend/uploads/pdf/`
- **–°—Ö–µ–º–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è**: `{timestamp}-{random}.pdf`

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```bash
# Frontend
REACT_APP_API_URL=/api

# Backend
UPLOAD_DIR=./uploads/pdf
MAX_FILE_SIZE=104857600  # 100MB –≤ –±–∞–π—Ç–∞—Ö
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ MIME —Ç–∏–ø–∞ (`application/pdf`)
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞
- –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –∏–º–µ–Ω —Ñ–∞–π–ª–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ–∞–π–ª–∞

### –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:
- –ó–∞–≥—Ä—É–∑–∫–∞: —Ç–æ–ª—å–∫–æ –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–∫–∞–∑–æ–≤
- –ü—Ä–æ—Å–º–æ—Ç—Ä: —á–µ—Ä–µ–∑ –∑–∞—â–∏—â–µ–Ω–Ω—ã–µ endpoints
- –£–¥–∞–ª–µ–Ω–∏–µ: —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º

## üì± –ú–æ–±–∏–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞

- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã** –∫–Ω–æ–ø–æ–∫ –∏ –ø–æ–ª–µ–π
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä** PDF –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- **–°–µ–Ω—Å–æ—Ä–Ω—ã–µ –∂–µ—Å—Ç—ã** –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- **–ö–æ–º–ø–∞–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ** –Ω–∞ –º–∞–ª—ã—Ö —ç–∫—Ä–∞–Ω–∞—Ö

## üåê –ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —è–∑—ã–∫–∏:
- **–†—É—Å—Å–∫–∏–π** (ru) - –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫
- **English** (en) - –≤—Ç–æ—Ä–∏—á–Ω—ã–π —è–∑—ã–∫

### –ö–ª—é—á–µ–≤—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã:
```typescript
'pdf.title': '–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è PDF' | 'PDF Documentation'
'pdf.upload_button': '–ó–∞–≥—Ä—É–∑–∏—Ç—å PDF' | 'Upload PDF'
'pdf.preview_title': '–ü—Ä–æ—Å–º–æ—Ç—Ä PDF –¥–æ–∫—É–º–µ–Ω—Ç–∞' | 'PDF Document Preview'
// ... –∏ –¥—Ä—É–≥–∏–µ
```

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
```typescript
// –í–∫–ª—é—á–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
console.log('üìÅ Uploading PDF for order:', orderId);
console.log('‚úÖ PDF uploaded successfully:', result);
console.error('‚ùå PDF upload error:', error);
```

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
1. **–û—à–∏–±–∫–∞ 413 (Payload Too Large)** - —Ñ–∞–π–ª –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏–º–∏—Ç
2. **–û—à–∏–±–∫–∞ 415 (Unsupported Media Type)** - –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞
3. **–û—à–∏–±–∫–∞ 404** - –∑–∞–∫–∞–∑ –Ω–µ –Ω–∞–π–¥–µ–Ω

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö PDF —Ñ–∞–π–ª–æ–≤
- –°—Ä–µ–¥–Ω–∏–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤
- –ß–∞—Å—Ç–æ—Ç–∞ –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏
- –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–π–ª–æ–≤

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –í–µ—Ä—Å–∏—è 1.0 (2025-06-21):
- ‚úÖ –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ PDF
- ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –≤ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–Ω–∞—Ö
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∑–∞–º–µ–Ω—ã –∏ —É–¥–∞–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
- ‚úÖ –ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è

### –ü–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ:
- üìÑ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- üîç –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ –≤ PDF
- üìù –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- üîó –°—Å—ã–ª–∫–∏ –º–µ–∂–¥—É –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏
- üìã –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ñ–∞–π–ª–æ–≤

---

**–ê–≤—Ç–æ—Ä**: Claude Sonnet 4  
**–î–∞—Ç–∞**: 21 –∏—é–Ω—è 2025  
**–í–µ—Ä—Å–∏—è**: 1.0
