# Changelog

## [2025-05-31] - Исправление TypeScript ошибок в OrdersService
### Исправлено
- Устранены ошибки TypeScript в orders.service.fixed.ts:
  - Ошибка 2769: Несоответствие типов priority (string в DTO vs number в Entity)
  - Ошибка 2740: Неправильный возвращаемый тип в методе create()
- Добавлено правильное преобразование типов в методах create() и update()
- Исправлены оба файла: orders.service.ts и orders.service.fixed.ts
- Созданы скрипты FIX-TYPESCRIPT-ERRORS.bat и FINAL-TYPESCRIPT-FIX-TEST.bat
- Добавлена документация TYPESCRIPT-FIXES.md

### Добавлено
- Обработка ошибок в методе create()
- Преобразование string -> number для поля priority
- Преобразование string -> Date для поля deadline
- Подробная документация исправлений

## [2025-05-27] - Исправление ошибки сборки backend
### Исправлено
- Исправлена ошибка компиляции TypeScript в header-size.middleware.ts:
  - Заменен несуществующий HttpStatus.REQUEST_HEADER_FIELDS_TOO_LARGE на числовой код 431
  - Добавлен комментарий с описанием HTTP-статуса для понимания

## [2025-01-28] - Инициализация проекта
### Добавлено
- Создана базовая структура проекта
- Добавлена документация (project.md, changelog.md, tasktracker.md)
- Определена архитектура системы

### Исправлено
- Исправлена ошибка 431 (Request Header Fields Too Large) путем:
  - Отключения credentials в axios и CORS конфигурации
  - Добавления middleware для контроля размера заголовков
  - Оптимизации CORS настроек
- Устранены предупреждения React Router v7:
  - Переход на createBrowserRouter с future flags
  - Обновление Layout компонента для использования Outlet
- Исправлены настройки CORS для корректной работы API

## [2025-01-28] - Дополнительные исправления
### Исправлено
- Ошибка TypeScript с future flags React Router - возврат к BrowserRouter
- Добавлен setupProxy.js для правильной настройки proxy
- Устранено предупреждение antd Spin tip
- Добавлен HeaderSizeMiddleware в app.module
- Создан скрипт fix-proxy-restart.bat для установки proxy middleware

### Добавлено
- Созданы батники для управления приложением:
  - start-all.bat - полный запуск backend + frontend
  - stop-all.bat - остановка всех процессов
  - restart-all.bat - перезапуск приложения
  - start-dev.bat - режим разработки с автоперезагрузкой

## [2025-01-28] - Backend: Базовая структура
### Добавлено
- Инициализирован NestJS проект
- Настроен TypeORM с PostgreSQL
- Созданы основные entities: Machine, Order, Operation, ShiftRecord
- Реализован модуль Machines с полным CRUD
- Добавлен сервис рекомендаций для подбора заказов
- Настроен Swagger для документации API

## [2025-01-28] - Backend: Все модули
### Добавлено
- Реализован модуль Orders с импортом Excel и загрузкой PDF
- Реализован модуль Operations с управлением статусами
- Реализован модуль Shifts со статистикой
- Реализован модуль Calendar с расчетом рабочих дней
- Реализован модуль Files для работы с файлами
- Создана схема базы данных в PostgreSQL

## [2025-01-28] - Frontend: Инициализация
### Добавлено
- Инициализирован React проект с TypeScript
- Настроены Ant Design и React Query
- Создана структура проекта
- Реализован Layout с навигацией
- Создана страница Производство с отображением станков
- Реализован компонент рекомендаций заказов
- Создана страница База данных с таблицей заказов

## [2025-01-28] - Frontend: Полная реализация
### Добавлено
- Реализована форма создания/редактирования заказов
- Добавлен компонент импорта Excel с фильтрацией по цветам
- Создана страница Смены с таблицей и статистикой
- Реализована форма создания записей смен
- Создана страница Календарь с визуализацией
- Добавлены компоненты загруженности станков и дедлайнов
- Созданы все API сервисы

## [2025-01-28] - DevOps: Docker и документация
### Добавлено
- Настроен Docker Compose для всех сервисов
- Созданы Dockerfile для backend и frontend
- Настроен nginx для frontend
- Создан README с инструкциями
- Добавлены .gitignore файлы
