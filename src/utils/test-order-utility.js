// Ğ£Ñ‚Ğ¸Ğ»Ğ¸Ñ‚Ğ° Ğ´Ğ»Ñ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¿Ñ€Ğ¾ÑÑ€Ğ¾Ñ‡ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ Ğ·Ğ°ĞºĞ°Ğ·Ğ°
// Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚Ğµ ÑÑ‚Ğ¾Ñ‚ ĞºĞ¾Ğ´ Ğ² ĞºĞ¾Ğ½ÑĞ¾Ğ»Ğ¸ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğ°, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ğ¹ Ğ·Ğ°ĞºĞ°Ğ·

function addTestOverdueOrder() {
  // Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµĞ¼ Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾ÑÑ€Ğ¾Ñ‡ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ·Ğ°ĞºĞ°Ğ·
  const testOrder = {
    id: `test-overdue-${Date.now()}`,
    drawingNumber: "TEST-OVERDUE-BM14362A",
    deadline: "2025-05-04T14:00:00.000Z", // 04.05.2025 - Ğ¿Ñ€Ğ¾ÑÑ€Ğ¾Ñ‡ĞµĞ½Ğ¾
    priority: 3, // ĞĞ¸Ğ·ĞºĞ¸Ğ¹ Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚
    quantity: 10,
    customer: "Ğ¢ĞµÑÑ‚ ĞšĞ»Ğ¸ĞµĞ½Ñ‚",
    material: "ĞĞ»ÑĞ¼Ğ¸Ğ½Ğ¸Ğ¹",
    description: "Ğ¢ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾ÑÑ€Ğ¾Ñ‡ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ·Ğ°ĞºĞ°Ğ· Ğ´Ğ»Ñ Ğ´Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸ĞºĞ¸",
    operations: [
      {
        id: `op-test-${Date.now()}-1`,
        sequenceNumber: 1,
        operationType: "3-axis",
        estimatedTime: 60,
        description: "Ğ¤Ñ€ĞµĞ·ĞµÑ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ĞºĞ¾Ñ€Ğ¿ÑƒÑĞ°",
        // ĞĞ• Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ completionStatus - Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ° ÑÑ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒÑÑ Ğ½Ğµ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ½Ğ¾Ğ¹
      },
      {
        id: `op-test-${Date.now()}-2`,
        sequenceNumber: 2,
        operationType: "turning",
        estimatedTime: 45,
        description: "Ğ¢Ğ¾ĞºĞ°Ñ€Ğ½Ğ°Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°",
        // ĞĞ• Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ completionStatus - Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ° ÑÑ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒÑÑ Ğ½Ğµ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ½Ğ¾Ğ¹
      }
    ]
  };

  // ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµĞ¼ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğµ Ğ·Ğ°ĞºĞ°Ğ·Ñ‹
  const existingOrders = JSON.parse(localStorage.getItem('orders') || '[]');
  
  // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼, Ğ½ĞµÑ‚ Ğ»Ğ¸ ÑƒĞ¶Ğµ Ñ‚Ğ°ĞºĞ¾Ğ³Ğ¾ Ğ·Ğ°ĞºĞ°Ğ·Ğ°
  const existingTestOrder = existingOrders.find(o => o.drawingNumber === testOrder.drawingNumber);
  if (existingTestOrder) {
    console.log('âš ï¸ Ğ¢ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ğ¹ Ğ·Ğ°ĞºĞ°Ğ· ÑƒĞ¶Ğµ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒĞµÑ‚. Ğ£Ğ´Ğ°Ğ»ÑĞµĞ¼ ÑÑ‚Ğ°Ñ€Ñ‹Ğ¹ Ğ¸ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ Ğ½Ğ¾Ğ²Ñ‹Ğ¹...');
    const index = existingOrders.findIndex(o => o.drawingNumber === testOrder.drawingNumber);
    existingOrders.splice(index, 1);
  }
  
  // Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ Ğ·Ğ°ĞºĞ°Ğ·
  existingOrders.push(testOrder);
  
  // Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµĞ¼ Ğ² localStorage
  localStorage.setItem('orders', JSON.stringify(existingOrders));
  
  console.log('âœ… Ğ¢ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾ÑÑ€Ğ¾Ñ‡ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ·Ğ°ĞºĞ°Ğ· Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½!');
  console.log('ğŸ“¦ ĞĞ¾Ğ¼ĞµÑ€ Ñ‡ĞµÑ€Ñ‚ĞµĞ¶Ğ°:', testOrder.drawingNumber);
  console.log('ğŸ“… Ğ”ĞµĞ´Ğ»Ğ°Ğ¹Ğ½:', new Date(testOrder.deadline).toLocaleDateString('ru-RU'));
  console.log('â­ ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚:', testOrder.priority);
  console.log('ğŸ—ï¸ ĞĞ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¹:', testOrder.operations.length);
  
  console.log('\nğŸš€ Ğ¢ĞµĞ¿ĞµÑ€ÑŒ:');
  console.log('1. ĞŸĞµÑ€ĞµĞ¹Ğ´Ğ¸Ñ‚Ğµ Ğ² Ñ€Ğ°Ğ·Ğ´ĞµĞ» Ğ¿Ğ»Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ');
  console.log('2. ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ "Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ¾Ğµ Ğ¿Ğ»Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ" Ğ¸Ğ»Ğ¸ "ĞĞ´Ğ°Ğ¿Ñ‚Ğ¸Ğ²Ğ½Ğ¾Ğµ Ğ¿Ğ»Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ"');
  console.log('3. Ğ¡Ğ»ĞµĞ´Ğ¸Ñ‚Ğµ Ğ·Ğ° Ğ»Ğ¾Ğ³Ğ°Ğ¼Ğ¸ Ğ² ĞºĞ¾Ğ½ÑĞ¾Ğ»Ğ¸');
  console.log('4. Ğ—Ğ°ĞºĞ°Ğ· Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ±Ñ‹Ñ‚ÑŒ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ½ ĞºĞ°Ğº Ğ¿Ñ€Ğ¾ÑÑ€Ğ¾Ñ‡ĞµĞ½Ğ½Ñ‹Ğ¹');
  
  // Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµĞ¼ Ğ·Ğ°ĞºĞ°Ğ· Ğ´Ğ»Ñ ÑƒĞ´Ğ¾Ğ±ÑÑ‚Ğ²Ğ°
  return testOrder;
}

// Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ´Ğ»Ñ ÑƒĞ´Ğ°Ğ»ĞµĞ½Ğ¸Ñ Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ·Ğ°ĞºĞ°Ğ·Ğ°
function removeTestOverdueOrder() {
  const existingOrders = JSON.parse(localStorage.getItem('orders') || '[]');
  const filteredOrders = existingOrders.filter(o => !o.drawingNumber.startsWith('TEST-OVERDUE'));
  localStorage.setItem('orders', JSON.stringify(filteredOrders));
  
  console.log('ğŸ—‘ï¸ Ğ’ÑĞµ Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ğµ Ğ¿Ñ€Ğ¾ÑÑ€Ğ¾Ñ‡ĞµĞ½Ğ½Ñ‹Ğµ Ğ·Ğ°ĞºĞ°Ğ·Ñ‹ ÑƒĞ´Ğ°Ğ»ĞµĞ½Ñ‹');
}

// Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¸ Ğ¾ Ğ·Ğ°ĞºĞ°Ğ·Ğ°Ñ…
function showOrdersInfo() {
  const orders = JSON.parse(localStorage.getItem('orders') || '[]');
  const currentDate = new Date();
  
  console.log('\nğŸ“‹ === Ğ˜ĞĞ¤ĞĞ ĞœĞĞ¦Ğ˜Ğ¯ Ğ Ğ—ĞĞšĞĞ—ĞĞ¥ ===');
  console.log(`ğŸ“¦ Ğ’ÑĞµĞ³Ğ¾ Ğ·Ğ°ĞºĞ°Ğ·Ğ¾Ğ²: ${orders.length}`);
  
  if (orders.length === 0) {
    console.log('âŒ Ğ—Ğ°ĞºĞ°Ğ·Ñ‹ Ğ¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ğ²ÑƒÑÑ‚');
    return;
  }
  
  orders.forEach((order, index) => {
    const deadline = new Date(order.deadline);
    const isOverdue = deadline < currentDate;
    const daysDiff = Math.round((deadline.getTime() - currentDate.getTime()) / (1000 * 60 * 60 * 24));
    const status = isOverdue ? `âŒ ĞŸĞ ĞĞ¡Ğ ĞĞ§Ğ•Ğ Ğ½Ğ° ${Math.abs(daysDiff)} Ğ´Ğ½ĞµĞ¹` : `âœ… Ğ”Ğ¾ Ğ´ĞµĞ´Ğ»Ğ°Ğ¹Ğ½Ğ° ${daysDiff} Ğ´Ğ½ĞµĞ¹`;
    const completedOps = order.operations.filter(op => op.completionStatus === 'completed').length;
    
    console.log(`\n${index + 1}. ${order.drawingNumber}`);
    console.log(`   ğŸ“… Ğ”ĞµĞ´Ğ»Ğ°Ğ¹Ğ½: ${deadline.toLocaleDateString('ru-RU')} ${status}`);
    console.log(`   â­ ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚: ${order.priority}`);
    console.log(`   ğŸ—ï¸ ĞĞ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¹: ${order.operations.length} (Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¾: ${completedOps})`);
  });
  
  const overdueOrders = orders.filter(order => new Date(order.deadline) < currentDate);
  console.log(`\nâš ï¸ ĞŸÑ€Ğ¾ÑÑ€Ğ¾Ñ‡ĞµĞ½Ğ½Ñ‹Ñ… Ğ·Ğ°ĞºĞ°Ğ·Ğ¾Ğ²: ${overdueOrders.length}`);
}

// ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµĞ¼ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¸ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞµ
console.log('ğŸ› ï¸ === Ğ£Ğ¢Ğ˜Ğ›Ğ˜Ğ¢Ğ Ğ”Ğ›Ğ¯ Ğ”Ğ˜ĞĞ“ĞĞĞ¡Ğ¢Ğ˜ĞšĞ˜ ĞŸĞ ĞĞ¡Ğ ĞĞ§Ğ•ĞĞĞ«Ğ¥ Ğ—ĞĞšĞĞ—ĞĞ’ ===');
console.log('ğŸ“‹ Ğ”Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸:');
console.log('1. addTestOverdueOrder() - Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾ÑÑ€Ğ¾Ñ‡ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ·Ğ°ĞºĞ°Ğ·');
console.log('2. removeTestOverdueOrder() - ÑƒĞ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ğµ Ğ·Ğ°ĞºĞ°Ğ·Ñ‹');
console.log('3. showOrdersInfo() - Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ğ·Ğ°ĞºĞ°Ğ·Ğ°Ñ…');

// ĞŸĞ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµĞ¼ Ñ‚ĞµĞºÑƒÑ‰ÑƒÑ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ğ·Ğ°ĞºĞ°Ğ·Ğ°Ñ…
showOrdersInfo();

// Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚Ğ¸Ñ€ÑƒĞµĞ¼ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ğ² Ğ³Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½ÑƒÑ Ğ¾Ğ±Ğ»Ğ°ÑÑ‚ÑŒ
window.addTestOverdueOrder = addTestOverdueOrder;
window.removeTestOverdueOrder = removeTestOverdueOrder;
window.showOrdersInfo = showOrdersInfo;
