# üîß –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π

## ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞!

### üêõ –ü—Ä–æ–±–ª–µ–º–∞:
```
error: column "currentOperation" of relation "machines" does not exist
error: column "assignedMachine" of relation "operations" does not exist
```

### üõ†Ô∏è –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

#### 1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ `"currentOperation" INTEGER` –≤ —Ç–∞–±–ª–∏—Ü—É `machines`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ `"assignedAt" TIMESTAMP` –≤ —Ç–∞–±–ª–∏—Ü—É `machines`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ `"assignedMachine" INTEGER` –≤ —Ç–∞–±–ª–∏—Ü—É `operations`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ `"assignedAt" TIMESTAMP` –≤ —Ç–∞–±–ª–∏—Ü—É `operations`

#### 2. Backend Entity:
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `machine.entity.ts` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è `currentOperation` –∏ `assignedAt`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `operation.entity.ts` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è `assignedMachine` –∏ `assignedAt`

#### 3. Backend DTO:
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `UpdateMachineDto` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π

#### 4. Backend Controllers & Services:
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `machines.controller.ts` - –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–∞–±–ª–∏—Ü–µ–π `machines`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `machines.service.ts` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `machines.module.ts` - –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã

#### 5. –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å API:
- ‚úÖ –°–æ–∑–¥–∞–Ω –∞–¥–∞–ø—Ç–µ—Ä –º–µ–∂–¥—É —Ñ–æ—Ä–º–∞—Ç–æ–º `Machine` –∏ `MachineAvailability`
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –ø–æ–ª–µ–π: `code` ‚Üí `machineName`, `!isOccupied` ‚Üí `isAvailable`

### üéØ –ß—Ç–æ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π**: `POST /api/planning/assign-operation`
2. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Å—Ç–∞–Ω–∫–æ–≤**: `PUT /api/machines/:machineName/availability`
3. **–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞–Ω–∫–æ–≤**: `GET /api/machines`

### üöÄ –†–µ–∑—É–ª—å—Ç–∞—Ç:
–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–ù–∞–∑–Ω–∞—á–∏—Ç—å –≤ —Ä–∞–±–æ—Ç—É" –æ–ø–µ—Ä–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞–∑–Ω–∞—á–∞–µ—Ç—Å—è –Ω–∞ —Å—Ç–∞–Ω–æ–∫ –±–µ–∑ –æ—à–∏–±–æ–∫ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö!

## üìù SQL –∫–æ–º–∞–Ω–¥—ã (—É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã):
```sql
ALTER TABLE machines 
ADD COLUMN "currentOperation" INTEGER,
ADD COLUMN "assignedAt" TIMESTAMP;

ALTER TABLE operations 
ADD COLUMN "assignedMachine" INTEGER,
ADD COLUMN "assignedAt" TIMESTAMP;
```

## üéâ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!
–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã. –°–∏—Å—Ç–µ–º–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞!
