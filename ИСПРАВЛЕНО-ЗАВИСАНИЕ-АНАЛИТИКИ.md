# –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ó–ê–í–ò–°–ê–ù–ò–Ø –ê–ù–ê–õ–ò–¢–ò–ö–ò –û–ü–ï–†–ê–¶–ò–ô ‚úÖ

## –ü—Ä–æ–±–ª–µ–º–∞:
‚ùå –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–π –∑–∞–≤–∏—Å–∞–ª–æ –Ω–∞ "–ó–∞–≥—Ä—É–∑–∫–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏..." –∏–∑-–∑–∞ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API

## –ü—Ä–∏—á–∏–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã:
1. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–µ–ª–∞–ª –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
2. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –ø—Ä–∏ –æ—à–∏–±–∫–µ API –∑–∞–ø—Ä–æ—Å—ã –ø–æ–≤—Ç–æ—Ä—è–ª–∏—Å—å –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ
3. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–∞–π–º–∞—É—Ç–æ–≤** - –∑–∞–ø—Ä–æ—Å—ã –Ω–µ –∏–º–µ–ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø–æ –≤—Ä–µ–º–µ–Ω–∏
4. **–°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π** - —Å–æ–∑–¥–∞–≤–∞–ª–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ü–∏–∫–ª—ã

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

### ‚úÖ 1. –ï–¥–∏–Ω—ã–π API –∑–∞–ø—Ä–æ—Å
**–ë—ã–ª–æ**: 3 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞ –∫ —Ä–∞–∑–Ω—ã–º endpoint'–∞–º
```typescript
// –ë—ã–ª–æ –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤
useQuery(['shifts', machine?.id])
useQuery(['operation', machine?.id]) 
useQuery(['order', machine?.id])
```

**–°—Ç–∞–ª–æ**: –û–¥–∏–Ω –∑–∞–ø—Ä–æ—Å —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π
```typescript
// –û–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –∫–æ –≤—Å–µ–º –¥–∞–Ω–Ω—ã–º
useQuery(['operation-analytics', machine?.id], {
  retry: 1,
  staleTime: 30000,
  cacheTime: 60000,
})
```

### ‚úÖ 2. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π URL –∑–∞–ø—Ä–æ—Å–∞
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω URL**: `http://localhost:5100/operation-analytics/machine/${machine.id}`
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–µ—Ä–≤–µ—Ä–Ω–æ–º—É API endpoint'—É
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—Ç 5100

### ‚úÖ 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
```typescript
if (data.status === 'error') {
  throw new Error(data.message);
}

if (data.status === 'no_operation') {
  return null; // –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏
}
```

### ‚úÖ 4. –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
- –£–±—Ä–∞–Ω—ã —Å–ª–æ–∂–Ω—ã–µ —Ü–∏–∫–ª—ã –∏ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
- –ü—Ä–æ—Å—Ç—ã–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —á–µ—Ä–µ–∑ useMemo

### ‚úÖ 5. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
```typescript
if (error) {
  // –ü–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É
}

if (isLoading) {
  // –ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É
}

if (!analytics) {
  // –ü–æ–∫–∞–∑–∞—Ç—å "–Ω–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏"
}
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –±–æ–ª—å—à–µ –Ω–µ –∑–∞–≤–∏—Å–∞–µ—Ç
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π
- ‚úÖ –ù–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ Network tab

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∞–∫—Ç–∏–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –ª—é–±–æ–π —Å—Ç–∞–Ω–æ–∫ —Å –æ–ø–µ—Ä–∞—Ü–∏–µ–π
3. –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–ª–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è –∑–∞ 1-2 —Å–µ–∫—É–Ω–¥—ã
4. –í Network tab –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:
–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –ø–æ–≤—Ç–æ—Ä–∏—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 5100
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ API endpoint `/operation-analytics/machine/:id` –æ—Ç–≤–µ—á–∞–µ—Ç
3. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+Shift+R)

üéâ **–ü—Ä–æ–±–ª–µ–º–∞ —Å –∑–∞–≤–∏—Å–∞–Ω–∏–µ–º —Ä–µ—à–µ–Ω–∞!**
