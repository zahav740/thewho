# üìÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ - TheWho CRM

## üéØ –û–ø–∏—Å–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

–ö–∞–ª–µ–Ω–¥–∞—Ä—å –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ –±—ã–ª –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω –∏ —Ç–µ–ø–µ—Ä—å –≤–∫–ª—é—á–∞–µ—Ç —Ç—Ä–∏ –≤–µ—Ä—Å–∏–∏:

### 1. üóìÔ∏è –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å
- –ë–∞–∑–æ–≤–∞—è —Ç–∞–±–ª–∏—á–Ω–∞—è –≤–µ—Ä—Å–∏—è
- –ü—Ä–æ—Å—Ç–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ –¥–Ω—è–º
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### 2. üìä –£–ª—É—á—à–µ–Ω–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å 
- –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —Å–º–µ–Ω (–¥–Ω–µ–≤–Ω—ã–µ/–Ω–æ—á–Ω—ã–µ)
- –†–∞—Å—á–µ—Ç —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π (–ø—è—Ç–Ω–∏—Ü–∞-—Å—É–±–±–æ—Ç–∞ –≤—ã—Ö–æ–¥–Ω—ã–µ)
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤
- –í—Ä–µ–º—è –Ω–∞–ª–∞–¥–∫–∏ —Å—Ç–∞–Ω–∫–æ–≤

### 3. üöÄ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å (–ù–û–í–´–ô!)
- **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω** —Å –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ —Å—Ç–∞–Ω–∫–æ–≤
- **–†–µ–∂–∏–º—ã –ø—Ä–æ—Å–º–æ—Ç—Ä–∞**: —Å–µ—Ç–∫–∞ –∏ —Ç–∞–π–º–ª–∞–π–Ω
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è** –ø–æ —Ç–∏–ø—É —Å—Ç–∞–Ω–∫–æ–≤ –∏ —Å—Ç–∞—Ç—É—Å—É –æ–ø–µ—Ä–∞—Ü–∏–π
- **–ú–∏–Ω–∏-–∫–∞–ª–µ–Ω–¥–∞—Ä—å –∑–∞–≥—Ä—É–∑–∫–∏** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—Ç–∞–Ω–∫–∞
- **–†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞
- **–ê–Ω–∏–º–∞—Ü–∏–∏ –∏ –ø–µ—Ä–µ—Ö–æ–¥—ã** –¥–ª—è —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ UX

## üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### Backend –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
1. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã SQL –∑–∞–ø—Ä–æ—Å—ã** –≤ calendar.controller.ts
2. **–ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –ø–æ–ª–µ–π** –ë–î (drawing_number –≤–º–µ—Å—Ç–æ drawingNumber)
3. **–£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
4. **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å–≤—è–∑–∏** –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏ machines/operations/orders
5. **–î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ endpoints** –¥–ª—è —Å–≤–æ–¥–∫–∏ –∏ –¥–µ–¥–ª–∞–π–Ω–æ–≤

### Frontend —É–ª—É—á—à–µ–Ω–∏—è:
1. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω API client** enhancedCalendarApi.ts
2. **–î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç** ModernProductionCalendar
3. **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏** CalendarStyles.css
4. **–£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∑–∞–≥—Ä—É–∑–∫–∏
5. **–î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å** –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

## üé® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—è

### –í–∏–∑—É–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
- üé® **–ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–µ —Ñ–æ–Ω—ã** –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Ü–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞
- üîÑ **–ê–Ω–∏–º–∞—Ü–∏–∏ hover** –∏ –ø–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã
- üì± **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω** –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- üåô **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã** (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è)

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
- üîç **–§–∏–ª—å—Ç—Ä—ã**: –ø–æ —Ç–∏–ø—É —Å—Ç–∞–Ω–∫–æ–≤, —Å—Ç–∞—Ç—É—Å—É –æ–ø–µ—Ä–∞—Ü–∏–π
- üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**: –∑–∞–≥—Ä—É–∑–∫–∞, –∞–∫—Ç–∏–≤–Ω—ã–µ —Å—Ç–∞–Ω–∫–∏
- üïí **–¢–∞–π–º–ª–∞–π–Ω —Ä–µ–∂–∏–º**: —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Å–º–æ—Ç—Ä –æ–ø–µ—Ä–∞—Ü–∏–π
- üí° **–í—Å–ø–ª—ã–≤–∞—é—â–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏** —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π

### –î–∞–Ω–Ω—ã–µ:
- üì° **–†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** –∏–∑ PostgreSQL –ë–î
- ‚ö° **–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- üîÑ **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** —Å –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ –∏ —Å–º–µ–Ω–∞–º–∏
- üìà **–†–∞—Å—á–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏** –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤

## üóÉÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

–ö–∞–ª–µ–Ω–¥–∞—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã –ë–î:
- `machines` - —Å—Ç–∞–Ω–∫–∏ –∏ –∏—Ö —Å—Ç–∞—Ç—É—Å—ã
- `operations` - –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞
- `orders` - –∑–∞–∫–∞–∑—ã —Å —á–µ—Ä—Ç–µ–∂–∞–º–∏
- `shift_records` - –∑–∞–ø–∏—Å–∏ —Å–º–µ–Ω (–¥–Ω–µ–≤–Ω—ã–µ/–Ω–æ—á–Ω—ã–µ)

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏:
```typescript
// –í CalendarPage.tsx
const [calendarType, setCalendarType] = useState<'classic' | 'enhanced' | 'modern'>('modern');
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤:
- **–¢–∏–ø —Å—Ç–∞–Ω–∫–æ–≤**: –≤—Å–µ, —Ñ—Ä–µ–∑–µ—Ä–Ω—ã–µ, —Ç–æ–∫–∞—Ä–Ω—ã–µ
- **–†–µ–∂–∏–º –ø—Ä–æ—Å–º–æ—Ç—Ä–∞**: —Å–µ—Ç–∫–∞, —Ç–∞–π–º–ª–∞–π–Ω
- **–ü–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ**: –¥–∞/–Ω–µ—Ç

### 3. –ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:
```typescript
// API –∑–∞–ø—Ä–æ—Å –∫–∞–ª–µ–Ω–¥–∞—Ä—è
const response = await enhancedCalendarApi.getEnhancedCalendarView(startDate, endDate);
```

## üéØ –î–µ–º–æ –¥–∞–Ω–Ω—ã–µ

–î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ `shift_records`:
- **–°—Ç–∞–Ω–æ–∫ Doosan 3**: –∞–∫—Ç–∏–≤–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è A01S3102A (15-16 –∏—é–Ω—è)
- **–°—Ç–∞–Ω–æ–∫ Mitsubishi**: –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ TH1K4108A (10-11 –∏—é–Ω—è)
- **–°—Ç–∞–Ω–æ–∫ Okuma**: —Ç–æ–∫–∞—Ä–Ω—ã–µ —Ä–∞–±–æ—Ç—ã RE1K0022A (12-13 –∏—é–Ω—è)
- **–°—Ç–∞–Ω–æ–∫ JohnFord**: –æ–ø–µ—Ä–∞—Ü–∏–∏ G63828A (14-15 –∏—é–Ω—è)

## üì± –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å

### –î–µ—Å–∫—Ç–æ–ø (>768px):
- 4 –∫–æ–ª–æ–Ω–∫–∏ –∫–∞—Ä—Ç–æ—á–µ–∫ —Å—Ç–∞–Ω–∫–æ–≤
- –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Ñ–∏–ª—å—Ç—Ä–æ–≤
- –î–µ—Ç–∞–ª—å–Ω—ã–µ –≤—Å–ø–ª—ã–≤–∞—é—â–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏

### –ü–ª–∞–Ω—à–µ—Ç (768px):
- 2-3 –∫–æ–ª–æ–Ω–∫–∏ –∫–∞—Ä—Ç–æ—á–µ–∫
- –ö–æ–º–ø–∞–∫—Ç–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã
- –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –ú–æ–±–∏–ª—å–Ω—ã–π (<480px):
- 1 –∫–æ–ª–æ–Ω–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫
- –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã
- –°–æ–∫—Ä–∞—â–µ–Ω–Ω—ã–π –º–∏–Ω–∏-–∫–∞–ª–µ–Ω–¥–∞—Ä—å

## üîÆ –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞

### –°—Ç–∞—Ç—É—Å—ã –æ–ø–µ—Ä–∞—Ü–∏–π:
- üü¢ **–ó–∞–≤–µ—Ä—à–µ–Ω–æ** (#52c41a) - –æ–ø–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é
- üîµ **–í –ø—Ä–æ—Ü–µ—Å—Å–µ** (#1890ff) - –æ–ø–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
- üü° **–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ** (#faad14) - –æ–ø–µ—Ä–∞—Ü–∏—è –≤ –æ—á–µ—Ä–µ–¥–∏
- ‚ö™ **–°–≤–æ–±–æ–¥–µ–Ω** (#d9d9d9) - —Å—Ç–∞–Ω–æ–∫ –Ω–µ –∑–∞–Ω—è—Ç

### –¢–∏–ø—ã —Å—Ç–∞–Ω–∫–æ–≤:
- üîß **–§—Ä–µ–∑–µ—Ä–Ω—ã–µ** (#1890ff) - MILLING
- üîÑ **–¢–æ–∫–∞—Ä–Ω—ã–µ** (#52c41a) - TURNING
- ‚ö° **–°–≤–µ—Ä–ª–∏–ª—å–Ω—ã–µ** (#faad14) - DRILLING

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π:
- **Backend**: NestJS + TypeORM + PostgreSQL
- **Frontend**: React + TypeScript + Ant Design
- **–°—Ç–∏–ª–∏**: CSS3 —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏
- **–ê–Ω–∏–º–∞—Ü–∏–∏**: CSS transitions –∏ keyframes

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- ‚ö° Lazy loading –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- üîÑ –ú–µ–º–æ–∏–∑–∞—Ü–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
- üì¶ –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤
- üéØ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–Ω–¥–µ—Ä—ã

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
```javascript
console.log('üìÖ –ó–∞–ø—Ä–æ—Å –∫–∞–ª–µ–Ω–¥–∞—Ä—è –∏–∑ –ë–î:', { startDate, endDate });
console.log('‚úÖ –û—Ç–≤–µ—Ç –æ—Ç backend:', response.data);
console.error('‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è:', error);
```

## üîÑ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

–ö–∞–ª–µ–Ω–¥–∞—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥:
```typescript
const { data, isLoading, error, refetch } = useQuery({
  queryKey: ['modern-calendar', startDate, endDate],
  queryFn: () => enhancedCalendarApi.getEnhancedCalendarView(startDate, endDate),
  refetchInterval: 30000, // 30 —Å–µ–∫—É–Ω–¥
});
```

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å –∫–∞–ª–µ–Ω–¥–∞—Ä—å –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ TheWho CRM –∏–º–µ–µ—Ç:
- ‚úÖ **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω** –∏ UX
- ‚úÖ **–†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** –∏–∑ –ë–î
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏** backend/frontend  
- ‚úÖ **–¢—Ä–∏ —Ä–µ–∂–∏–º–∞** –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- ‚úÖ **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å** –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- ‚úÖ **–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- ‚úÖ **–§–∏–ª—å—Ç—Ä—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

–ö–∞–ª–µ–Ω–¥–∞—Ä—å –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ä–µ–¥–µ! üöÄ
