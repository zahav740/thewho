# üéØ –ù–û–í–ê–Ø –§–£–ù–ö–¶–ò–Ø: –í–´–ë–û–† –û–ü–ï–†–ê–¶–ò–ô –î–õ–Ø –ü–õ–ê–ù–ò–†–û–í–ê–ù–ò–Ø

## ‚ú® –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ **–ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º** –≤–º–µ—Å—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è!

### üî• –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

1. **–ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π** —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
2. **–†—É—á–Ω–æ–π –≤—ã–±–æ—Ä –æ–ø–µ—Ä–∞—Ü–∏–π** –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
3. **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å—Ç–∞–Ω–∫–æ–≤** –¥–ª—è –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏** –æ–ø–µ—Ä–∞—Ü–∏–π –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é
5. **–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** –æ –∑–∞–∫–∞–∑–∞—Ö –∏ –æ–ø–µ—Ä–∞—Ü–∏—è—Ö

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏—Å—Ç–µ–º—É
```bash
START-CRM-ENGLISH.bat
```

### –®–∞–≥ 2: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ API
```bash
TEST-OPERATION-SELECTION.bat
```

### –®–∞–≥ 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
1. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: http://localhost:3001
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–í—ã–±–æ—Ä –æ–ø–µ—Ä–∞—Ü–∏–π" (–Ω–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
3. –í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∞–Ω–∫–∏
4. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
5. –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
6. –ù–∞–∑–Ω–∞—á—å—Ç–µ —Å—Ç–∞–Ω–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
7. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

## üìã –ù–æ–≤—ã–µ API endpoints

### 1. –ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
```
GET /api/planning/available-operations?machineIds=1,2,3
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "data": {
    "orders": [...],
    "availableOperations": [
      {
        "operationId": 1,
        "operationNumber": 1,
        "operationType": "MILLING",
        "estimatedTime": 120,
        "estimatedTimeFormatted": "2 —á",
        "canStart": true,
        "blockingReason": null,
        "order": {
          "id": 1,
          "drawingNumber": "DWG-001",
          "priority": 1,
          "quantity": 5,
          "deadline": "2025-06-15",
          "workType": "Production"
        },
        "compatibleMachines": [
          {
            "id": 1,
            "code": "F1",
            "type": "MILLING",
            "axes": 4
          }
        ]
      }
    ],
    "summary": {
      "totalOrders": 5,
      "totalOperations": 12,
      "readyToStart": 8,
      "waiting": 4
    }
  }
}
```

### 2. –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
```
POST /api/planning/plan-selected
```

**–ó–∞–ø—Ä–æ—Å:**
```json
{
  "selectedMachines": [1, 2, 3],
  "selectedOperations": [
    {
      "operationId": 1,
      "machineId": 1
    },
    {
      "operationId": 5,
      "machineId": 2
    }
  ]
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "message": "–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –¥–ª—è 2 –æ–ø–µ—Ä–∞—Ü–∏–π",
  "data": {
    "selectedOrdersCount": 2,
    "operationsQueueLength": 2,
    "totalTime": 240,
    "totalTimeFormatted": "4 —á",
    "calculationDate": "2025-06-07T15:30:00.000Z",
    "details": {
      "selectedOrders": [...],
      "operationsQueue": [...],
      "totalTime": 240,
      "calculationDate": "2025-06-07T15:30:00.000Z"
    }
  }
}
```

## üé® –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –§–∏–ª—å—Ç—Ä—ã –æ–ø–µ—Ä–∞—Ü–∏–π:
- **–ü–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É –∑–∞–∫–∞–∑–∞** (1, 2, 3, 4)
- **–ü–æ —Ç–∏–ø—É –æ–ø–µ—Ä–∞—Ü–∏–∏** (MILLING, TURNING, DRILLING, GRINDING)
- **–¢–æ–ª—å–∫–æ –≥–æ—Ç–æ–≤—ã–µ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é**

### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–ø–µ—Ä–∞—Ü–∏—è—Ö:
- ‚úÖ **–ì–æ—Ç–æ–≤—ã –∫ —Å—Ç–∞—Ä—Ç—É** - –æ–ø–µ—Ä–∞—Ü–∏–∏ –º–æ–∂–Ω–æ –Ω–∞—á–∞—Ç—å —Å–µ–π—á–∞—Å
- ‚è≥ **–û–∂–∏–¥–∞—é—Ç** - –±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
- üîí **–ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã** - –Ω–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö —Å—Ç–∞–Ω–∫–æ–≤

### –°—Ç–∞—Ç—É—Å—ã –æ–ø–µ—Ä–∞—Ü–∏–π:
- **PENDING** - –æ–∂–∏–¥–∞–µ—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
- **IN_PROGRESS** - –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
- **COMPLETED** - –∑–∞–≤–µ—Ä—à–µ–Ω–∞
- **assigned** - –Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –Ω–∞ —Å—Ç–∞–Ω–æ–∫

## üîß –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã

1. **–°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç** –≤—Å–µ –∑–∞–∫–∞–∑—ã —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ 1-4
2. **–ù–∞—Ö–æ–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–∫–∞–∑–∞
3. **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** —Å–æ —Å—Ç–∞–Ω–∫–∞–º–∏:
   - TURNING ‚Üí —Ç–æ–∫–∞—Ä–Ω—ã–µ —Å—Ç–∞–Ω–∫–∏
   - MILLING 4-axis ‚Üí —Ç–æ–ª—å–∫–æ 4-–æ—Å–µ–≤—ã–µ —Ñ—Ä–µ–∑–µ—Ä–Ω—ã–µ
   - MILLING 3-axis ‚Üí –ª—é–±—ã–µ —Ñ—Ä–µ–∑–µ—Ä–Ω—ã–µ
   - DRILLING ‚Üí —Ñ—Ä–µ–∑–µ—Ä–Ω—ã–µ —Å—Ç–∞–Ω–∫–∏
   - GRINDING ‚Üí –ª—é–±—ã–µ —Å—Ç–∞–Ω–∫–∏

4. **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å** –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é:
   - –ü–µ—Ä–≤–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –∑–∞–∫–∞–∑–∞ –≤—Å–µ–≥–¥–∞ –≥–æ—Ç–æ–≤–∞
   - –°–ª–µ–¥—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∂–¥—É—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö
   - –û–ø–µ—Ä–∞—Ü–∏–∏ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã

5. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç** –Ω—É–∂–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ —Å—Ç–∞–Ω–∫–∏
6. **–°–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞–µ—Ç –ø–ª–∞–Ω** —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ä–∞–º–∫–∞–º–∏

## üìä –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

### ‚úÖ –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
- **–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å** –Ω–∞–¥ –≤—ã–±–æ—Ä–æ–º –æ–ø–µ—Ä–∞—Ü–∏–π
- **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å** - –≤–∏–¥–Ω–æ –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã
- **–ì–∏–±–∫–æ—Å—Ç—å** - –º–æ–∂–Ω–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —á–∞—Å—Ç–∏—á–Ω–æ
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ—Å—Ç—å** - –¥–µ—Ç–∞–ª–∏ –ø–æ –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏

### ‚úÖ –î–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞:
- **–¢–æ—á–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** –ø–æ–¥ —Ä–µ–∞–ª—å–Ω—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏
- **–£—á–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤** –∏ —Å—Ä–æ–∫–æ–≤
- **–û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** —Å—Ç–∞–Ω–∫–æ–≤
- **–ö–æ–Ω—Ç—Ä–æ–ª—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** –æ–ø–µ—Ä–∞—Ü–∏–π

## üö® –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π** - –Ω–µ–ª—å–∑—è –Ω–∞—á–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é 2, –ø–æ–∫–∞ –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—è 1
2. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å—Ç–∞–Ω–∫–æ–≤** - —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∂–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ —Å—Ç–∞–Ω–∫–∏
3. **–°—Ç–∞—Ç—É—Å –æ–ø–µ—Ä–∞—Ü–∏–π** - –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –±—É–¥—É—Ç –ø–æ–¥—Å–≤–µ—á–µ–Ω—ã
4. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** - –≤—Å–µ –ø–ª–∞–Ω—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–æ–≤—ã–µ API –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
2. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å** - —Å–æ–æ–±—â–∏—Ç–µ –æ–± –æ—à–∏–±–∫–∞—Ö –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è—Ö
3. **–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ** - –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
- `production-planning-extensions.service.ts` - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞
- `operation-selection.controller.ts` - –Ω–æ–≤—ã–µ endpoints
- `operationSelectionApi.ts` - frontend API
- `OperationSelectionPage.tsx` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—ã–±–æ—Ä–∞ –æ–ø–µ—Ä–∞—Ü–∏–π

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `planning.module.ts` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- `–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞` –≥–æ—Ç–æ–≤–æ! üéâ

**–¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–∞–º –≤—ã–±–∏—Ä–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è!**
