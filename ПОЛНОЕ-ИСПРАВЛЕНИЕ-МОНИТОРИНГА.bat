@echo off
echo ============================================
echo –ü–û–õ–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ú–û–ù–ò–¢–û–†–ò–ù–ì–ê –ü–†–û–ò–ó–í–û–î–°–¢–í–ê
echo ============================================

echo.
echo üîß –®–∞–≥ 1: –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –±–∞–∑—É...
call "–î–û–ë–ê–í–ò–¢–¨-–¢–ï–°–¢–û–í–´–ï-–î–ê–ù–ù–´–ï-–°–ú–ï–ù.bat"

echo.
echo üîß –®–∞–≥ 2: –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–æ—Ü–µ—Å—Å—ã...
netstat -ano | findstr :3000
for /f "tokens=5" %%a in ('netstat -ano ^| findstr :3000') do taskkill /PID %%a /F 2>nul
netstat -ano | findstr :5000
for /f "tokens=5" %%a in ('netstat -ano ^| findstr :5000') do taskkill /PID %%a /F 2>nul

echo.
echo üîß –®–∞–≥ 3: –ó–∞–ø—É—Å–∫–∞–µ–º backend...
cd backend
start /B npm run start:dev
timeout /t 5

echo.
echo üîß –®–∞–≥ 4: –ó–∞–ø—É—Å–∫–∞–µ–º frontend...
cd ..\frontend
start /B npm start
timeout /t 10

echo.
echo üîß –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–æ–≤...
netstat -ano | findstr :5000
if %errorlevel% equ 0 (
    echo ‚úÖ Backend –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 5000
) else (
    echo ‚ùå Backend –Ω–µ –∑–∞–ø—É—â–µ–Ω
)

netstat -ano | findstr :3000
if %errorlevel% equ 0 (
    echo ‚úÖ Frontend –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 3000
) else (
    echo ‚ùå Frontend –Ω–µ –∑–∞–ø—É—â–µ–Ω
)

echo.
echo ============================================
echo üìã –ò–ù–°–¢–†–£–ö–¶–ò–ò –ü–û –ü–†–û–í–ï–†–ö–ï
echo ============================================
echo.
echo 1. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞:
echo    http://localhost:3000/shifts
echo.
echo 2. –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ "–°–º–µ–Ω—ã" -> –≤–∫–ª–∞–¥–∫–∞ "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥"
echo    –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
echo    ‚úÖ –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π –≤–∏–¥ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞
echo    ‚úÖ –°—Ç–∞–Ω–∫–∏ —Å —Ç–µ–∫—É—â–∏–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
echo    ‚úÖ –î–∞–Ω–Ω—ã–µ –ø–æ –¥–Ω–µ–≤–Ω–æ–π –∏ –Ω–æ—á–Ω–æ–π —Å–º–µ–Ω–µ
echo    ‚úÖ –û–ë–©–ò–ô –û–ë–™–ï–ú –¥–ª—è –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
echo.
echo 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (F12):
echo    - –î–∞–Ω–Ω—ã–µ —Å—Ç–∞–Ω–∫–æ–≤ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
echo    - –î–∞–Ω–Ω—ã–µ —Å–º–µ–Ω –∑–∞–≥—Ä—É–∂–µ–Ω—ã
echo    - –ê–Ω–∞–ª–∏–∑ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ
echo.
echo 4. –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è:
echo    - –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5)
echo    - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –æ—à–∏–±–∫–∏
echo    - –ó–∞–ø—É—Å—Ç–∏—Ç–µ –¢–ï–°–¢-API-–°–ú–ï–ù.bat
echo.
echo ============================================
echo –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ì–û–¢–û–í–´! üéâ
echo ============================================
pause
