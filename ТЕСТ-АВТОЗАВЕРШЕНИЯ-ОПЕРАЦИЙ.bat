@echo off
echo ===============================================
echo –¢–ï–°–¢ –°–ò–°–¢–ï–ú–´ –ê–í–¢–û–ó–ê–í–ï–†–®–ï–ù–ò–Ø –û–ü–ï–†–ê–¶–ò–ô
echo ===============================================

echo.
echo [1/4] –ü—Ä–æ–≤–µ—Ä–∫–∞ API endpoints...
echo –¢–µ—Å—Ç–∏—Ä—É–µ–º /api/operations/completion/check-all-active

curl -s -X GET "http://localhost:5100/api/operations/completion/check-all-active" > nul
if %ERRORLEVEL% neq 0 (
    echo ‚ùå API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω! –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 5100
    echo –ó–∞–ø—É—Å—Ç–∏—Ç–µ: START-FIXED-BACKEND.bat
    pause
    exit /b 1
) else (
    echo ‚úÖ API –¥–æ—Å—Ç—É–ø–µ–Ω
)

echo.
echo [2/4] –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–∫–∞–∑–∞ —Å –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏...

REM –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–∫–∞–∑ C6HP0021A —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º 5 –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
curl -s -X POST "http://localhost:5100/api/orders" ^
-H "Content-Type: application/json" ^
-d "{\"drawingNumber\":\"C6HP0021A-TEST\",\"quantity\":5,\"deadline\":\"2025-06-20\",\"priority\":1,\"workType\":\"MILLING\"}" > test_order_response.json

echo ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–∫–∞–∑ —Å–æ–∑–¥–∞–Ω

echo.
echo [3/4] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π...

REM –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –æ–ø–µ—Ä–∞—Ü–∏–π –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
curl -s -X GET "http://localhost:5100/api/operations-simple" > test_operations_response.json
echo ‚úÖ –û–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã

echo.
echo [4/4] –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–º–µ–Ω —Å –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ–º...

REM –ò–º–∏—Ç–∏—Ä—É–µ–º —Ä–∞–±–æ—Ç—É —Å–º–µ–Ω - –¥–æ–±–∞–≤–ª—è–µ–º –∑–∞–ø–∏—Å–∏ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º
echo –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–ø–∏—Å–∏ —Å–º–µ–Ω –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø–ª–∞–Ω–æ–≤–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞...

REM –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å curl –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è shift_records

echo.
echo ========================================
echo üéØ –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ:
echo ========================================
echo.
echo 1. –û—Ç–∫—Ä–æ–π—Ç–µ frontend: http://localhost:3000
echo 2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞"
echo 3. –í –∫–∞—Ä—Ç–æ—á–∫–µ —Å—Ç–∞–Ω–∫–∞ –Ω–∞–π–¥–∏—Ç–µ –æ–ø–µ—Ä–∞—Ü–∏—é C6HP0021A-TEST
echo 4. –ù–∞–∂–º–∏—Ç–µ "–ü—Ä–æ–≥—Ä–µ—Å—Å" –∏ –≤–≤–µ–¥–∏—Ç–µ:
echo    - –í—ã–ø–æ–ª–Ω–µ–Ω–æ –¥–µ—Ç–∞–ª–µ–π: 5
echo    - –í—Å–µ–≥–æ –¥–µ—Ç–∞–ª–µ–π: 5
echo 5. –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏!
echo.
echo üîî –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 15 —Å–µ–∫—É–Ω–¥
echo.
echo –í–∞—Ä–∏–∞–Ω—Ç—ã –¥–µ–π—Å—Ç–≤–∏–π –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–∏:
echo ‚úÖ –ó–ê–ö–†–´–¢–¨ - –∑–∞–≤–µ—Ä—à–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é –∏ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å
echo ‚ñ∂Ô∏è –ü–†–û–î–û–õ–ñ–ò–¢–¨ - –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ
echo üìã –°–ü–õ–ê–ù–ò–†–û–í–ê–¢–¨ - –∑–∞–∫—Ä—ã—Ç—å + –æ—Ç–∫—Ä—ã—Ç—å –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
echo.

echo –õ–æ–≥–∏ API –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –∫–æ–Ω—Å–æ–ª–∏ backend
echo –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Ä—É—á–Ω—É—é: GET /api/operations/completion/check-all-active

pause
