@echo off
echo ================================================
echo –¢–ï–°–¢ –£–õ–£–ß–®–ï–ù–ù–û–ì–û –ü–õ–ê–ù–ò–†–û–í–ê–ù–ò–Ø
echo ================================================

echo.
echo ‚úÖ –ù–û–í–´–ï –í–û–ó–ú–û–ñ–ù–û–°–¢–ò:
echo [+] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–∞ —á–µ—Ä—Ç–µ–∂–∞ + –Ω–æ–º–µ—Ä–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏
echo [+] –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—é
echo [+] –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ —Ä–∞–±–æ—Ç—É

echo.
echo 1. –ö–æ–º–ø–∏–ª—è—Ü–∏—è frontend...
cd /d "C:\Users\kasuf\Downloads\TheWho\production-crm\frontend"
call npx tsc --noEmit
if %ERRORLEVEL% neq 0 (
    echo ‚ùå –û–®–ò–ë–ö–ê: Frontend –∫–æ–º–ø–∏–ª—è—Ü–∏—è!
    pause
    exit /b 1
)

echo.
echo 2. –ö–æ–º–ø–∏–ª—è—Ü–∏—è backend...
cd /d "C:\Users\kasuf\Downloads\TheWho\production-crm\backend"
call npm run build
if %ERRORLEVEL% neq 0 (
    echo ‚ùå –û–®–ò–ë–ö–ê: Backend –∫–æ–º–ø–∏–ª—è—Ü–∏—è!
    pause
    exit /b 1
)

echo.
echo 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤...
taskkill /f /im node.exe >nul 2>&1
timeout /t 2 >nul

echo –ó–∞–ø—É—Å–∫ backend...
start "Backend (–£–õ–£–ß–®–ï–ù–ù–´–ô)" cmd /k "npm run start:prod"
timeout /t 8

echo –ó–∞–ø—É—Å–∫ frontend...
cd /d "C:\Users\kasuf\Downloads\TheWho\production-crm\frontend"
start "Frontend (–£–õ–£–ß–®–ï–ù–ù–´–ô)" cmd /k "npm start"
timeout /t 8

echo.
echo 4. –¢–µ—Å—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è...
curl -X POST "http://localhost:3001/api/planning/demo" -H "Content-Type: application/json"

echo.
echo.
echo 5. –û—Ç–∫—Ä—ã—Ç–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã...
start http://localhost:3000/planning

echo.
echo ================================================
echo üéØ –¢–ï–°–¢–ò–†–£–ô–¢–ï –ù–û–í–´–ï –í–û–ó–ú–û–ñ–ù–û–°–¢–ò:
echo ================================================
echo.
echo 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ "–î–µ–º–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ"
echo 2. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö —É–≤–∏–¥–∏—Ç–µ:
echo    - "–ß–µ—Ä—Ç–µ–∂ C6HP0021A - –û–ø–µ—Ä–∞—Ü–∏—è 10" (–≤–º–µ—Å—Ç–æ "–û–ø–µ—Ä–∞—Ü–∏—è #20")
echo    - "–ß–µ—Ä—Ç–µ–∂ TH1K4108A - –û–ø–µ—Ä–∞—Ü–∏—è 10" 
echo    - "–ß–µ—Ä—Ç–µ–∂ G63828A - –û–ø–µ—Ä–∞—Ü–∏—è 30"
echo.
echo 3. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –ª—é–±—É—é –æ–ø–µ—Ä–∞—Ü–∏—é
echo 4. –û—Ç–∫—Ä–æ–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å:
echo    - –î–µ—Ç–∞–ª—è–º–∏ –∑–∞–∫–∞–∑–∞ (—á–µ—Ä—Ç–µ–∂, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, —Å—Ä–æ–∫)
echo    - –î–µ—Ç–∞–ª—è–º–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ (—Ç–∏–ø, –≤—Ä–µ–º—è, –æ—Å–∏)
echo    - –ù–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–º —Å—Ç–∞–Ω–∫–æ–º
echo.
echo 5. –ù–∞–∂–º–∏—Ç–µ "–ù–∞–∑–Ω–∞—á–∏—Ç—å –≤ —Ä–∞–±–æ—Ç—É" –¥–ª—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
echo.
echo ================================================
pause
