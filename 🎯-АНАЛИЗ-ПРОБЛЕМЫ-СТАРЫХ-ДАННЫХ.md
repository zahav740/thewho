/**
 * @file: –†–ï–®–ï–ù–ò–ï-–ü–†–û–ë–õ–ï–ú–´-–°–¢–ê–†–´–•-–î–ê–ù–ù–´–•-–ú–û–ù–ò–¢–û–†–ò–ù–ì–ê.md
 * @description: –ê–Ω–∞–ª–∏–∑ –∏ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞
 * @created: 2025-06-11
 */

# üéØ –ù–ê–ô–î–ï–ù–ê –ü–†–û–ë–õ–ï–ú–ê –û–¢–û–ë–†–ê–ñ–ï–ù–ò–Ø –°–¢–ê–†–´–• –î–ê–ù–ù–´–•

## üìç –ò–°–¢–û–ß–ù–ò–ö –ü–†–û–ë–õ–ï–ú–´

**–§–∞–π–ª:** `frontend/src/pages/Shifts/components/ActiveMachinesMonitor.tsx`
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** ActiveMachinesMonitor (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ "–°–º–µ–Ω—ã")
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –≤—Å–µ–º –æ–ø–µ—Ä–∞—Ü–∏—è–º, –∞ –Ω–µ –ø–æ —Ç–µ–∫—É—â–µ–π

## üîç –ê–ù–ê–õ–ò–ó –ü–†–û–ë–õ–ï–ú–´

### –ù–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –≤–∏–¥–Ω–æ:
- **Doosan 3** –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–î–µ–Ω—å: 10, –ù–æ—á—å: 20" 
- –≠—Ç–æ —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –ù–æ–≤–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è **C6HP0021A** —Ç–æ–ª—å–∫–æ —á—Ç–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∞
- –°–∏—Å—Ç–µ–º–∞ –Ω–µ –æ–±–Ω—É–ª—è–µ—Ç —Å—á–µ—Ç—á–∏–∫–∏ –ø—Ä–∏ —Å–º–µ–Ω–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

### –í –∫–æ–¥–µ –ø—Ä–æ–±–ª–µ–º–∞:
```typescript
// –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–º–µ–Ω –ø–æ –Ω–æ–º–µ—Ä—É —á–µ—Ä—Ç–µ–∂–∞
const getOperationShifts = (machineId, operationDetails, allShifts) => {
  return allShifts.filter(shift => 
    shift.machineId === parseInt(machineId) && 
    shift.drawingNumber === operationDetails.orderDrawingNumber  // ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ –∑–¥–µ—Å—å
  );
}
```

**–ü—Ä–æ–±–ª–µ–º—ã –≤ –ª–æ–≥–∏–∫–µ:**
1. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ `drawingNumber` –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –Ω–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
2. –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞—á–∞–ª–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏ vs –≤—Ä–µ–º–µ–Ω–∏ —Å–º–µ–Ω—ã  
3. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Å–±—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —Å–º–µ–Ω–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
4. –ù–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –æ–ø–µ—Ä–∞—Ü–∏–∏

## üõ†Ô∏è –ü–õ–ê–ù –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### 1. Backend: –î–æ–±–∞–≤–∏—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–µ—Å—Å–∏–π –æ–ø–µ—Ä–∞—Ü–∏–π
- –ü—Ä–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—É—é "—Å–µ—Å—Å–∏—é –æ–ø–µ—Ä–∞—Ü–∏–∏"
- –ü—Ä–∏–≤—è–∑—ã–≤–∞—Ç—å —Å–º–µ–Ω—ã –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–µ—Å—Å–∏–∏, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ –∫ –Ω–æ–º–µ—Ä—É —á–µ—Ä—Ç–µ–∂–∞
- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `operationSessionId` –≤ —Ç–∞–±–ª–∏—Ü—É —Å–º–µ–Ω

### 2. Frontend: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Å–º–µ–Ω—ã –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –ü–û–°–õ–ï –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
- –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä "–Ω–æ–≤–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è" 

### 3. –î–æ–±–∞–≤–∏—Ç—å —Å–±—Ä–æ—Å —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–∏ –Ω–æ–≤–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–≤–µ—Ä—à–∞—Ç—å –ø—Ä–µ–¥—ã–¥—É—â—É—é —Å–µ—Å—Å–∏—é
- –û–±–Ω—É–ª—è—Ç—å —Å—á–µ—Ç—á–∏–∫–∏ –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞
- –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –æ–ø–µ—Ä–∞—Ü–∏–∏

## üîß –ë–´–°–¢–†–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï

–ü–æ–∫–∞ –Ω–µ –∏–∑–º–µ–Ω–µ–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, –º–æ–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ frontend:

```typescript
// –ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏
const getOperationShifts = (machineId, operationDetails, allShifts, assignedAt) => {
  if (!operationDetails || !allShifts) return [];
  
  const operationStartTime = new Date(assignedAt);
  
  return allShifts.filter(shift => {
    const shiftTime = new Date(shift.createdAt);
    return (
      shift.machineId === parseInt(machineId) && 
      shift.drawingNumber === operationDetails.orderDrawingNumber &&
      shiftTime >= operationStartTime // ‚úÖ –¢–æ–ª—å–∫–æ —Å–º–µ–Ω—ã –ü–û–°–õ–ï –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏
    );
  });
}
```

## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ –ù–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –±—É–¥—É—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å 0/0 –≤–º–µ—Å—Ç–æ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –°—á–µ—Ç—á–∏–∫–∏ –æ–±–Ω—É–ª—è—Ç—Å—è –ø—Ä–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–∏ –Ω–æ–≤–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏  
- ‚úÖ –û–ø–µ—Ä–∞—Ü–∏–∏ –±—É–¥—É—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å—Å—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–≤–∏–¥–∏—Ç –∞–∫—Ç—É–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é

## üìã –ü–õ–ê–ù –í–ù–ï–î–†–ï–ù–ò–Ø

1. **–°–µ–π—á–∞—Å**: –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –Ω–∞ frontend 
2. **–ü–æ—Ç–æ–º**: –î–æ–±–∞–≤–∏—Ç—å —Å–µ—Å—Å–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–π –≤ backend
3. **–í –±—É–¥—É—â–µ–º**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é –æ–ø–µ—Ä–∞—Ü–∏–π

---

**–ü—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã:** –°–∏—Å—Ç–µ–º–∞ —Å—á–∏—Ç–∞–µ—Ç –≤—Å–µ —Å–º–µ–Ω—ã –ø–æ –Ω–æ–º–µ—Ä—É —á–µ—Ä—Ç–µ–∂–∞, –Ω–µ —É—á–∏—Ç—ã–≤–∞—è —á—Ç–æ –æ–ø–µ—Ä–∞—Ü–∏—è –º–æ–≥–ª–∞ –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –∑–∞–Ω–æ–≤–æ.

**–†–µ—à–µ–Ω–∏–µ:** –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏ + –Ω–æ–º–µ—Ä—É —á–µ—Ä—Ç–µ–∂–∞.
